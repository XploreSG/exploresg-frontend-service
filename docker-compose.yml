services:
  frontend:
    build:
      context: .
      dockerfile: Dockerfile
    image: exploresg-frontend:prod
    container_name: prod-exploresg-frontend-service
    ports:
      - "3000:3000"
    # Runtime environment variables to load from .env.production
    # NOTE: env_file injects variables at container runtime. If you need Vite
    # build-time variables (VITE_*) baked into the static bundle, ensure
    # .env.production exists in the build context so the Dockerfile copies it
    # before running `npm run build`.
    env_file:
      - .env.production
    environment:
      - NODE_ENV=production
    networks:
      - exploresg-network

# Define the shared network as external
networks:
  exploresg-network:
    name: exploresg-net
    external: true
